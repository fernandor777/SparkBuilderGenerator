# Spark builder generator plugin

## Configuration

Most configuration is on the preferences page: Preferences -> Java -> Spark builder generator

| Configuration | Description | Default | Patterns |
| --- | --- | --- | --- |
| Create builder method pattern | Public static method for generating a new builder. | builder | `[className]` |
| Create Builder class name pattern | Public static class inside the domain object. | Builder | `[className]` |
| Build method name pattern | Public method inside builder to create domain object. | build | `[className]` |
| Builder's method name pattern | Public methods inside the domain object to set each field. | with[FieldName] | `[FieldName]`, `[fieldName]` |
| Generate Javadoc on builder class | Generate Javadoc on builder class. Generated text is not configurable at the moment. | true | - |
| Generate Javadoc on builder method | Generate Javadoc on `builder()` method. Generated text is not configurable at the moment. | true | - |
| Generate Javadoc on each builder's method | Generate Javadoc on `with...()` methods. Generated text is not configurable at the moment. | true | - |
| Add Nonnull to parameters | Add @Nonnull annotation to method parameters. | true | - |
| Add Nonnull to returns | Add @Nonnull annotation to returns. | false | - |
| Override previous builder | Whether to automatically override previous builder, or always create new. See @Generated section below. | true | - |
| Add @Generated annotation | Whether to add @Generated annotation to generated Builder class, builder method and constructor. The value is `SparkTools` and not configurable. | true | - |
| Add @Generated annotation on generated interfaces | Whether to add @Generated annotation to generated staged builder interfaces, builder method and constructor. The value is `SparkTools` and not configurable. | true | - |
| Add @Generated annotation on generated interfaces | Whether to add @Generated annotation to generated staged builder interfaces, builder method and constructor. The value is `SparkTools` and not configurable. |
| Generate Javadoc on stage interface for staged builder | Generate Javadoc on staged builder interfaces. Generated text is not configurable at the moment. | false | - |
| Skip static builder() method for staged builder | If set to true, the plugin will not create the static builder(), instead it will create a static method for the first with method. So instead of calling it like `Mail.builder().from(...).to(...)...` you can initialize it like `Mail.from(...).to(...)...` | false | - |
| Last stage interface name for staged builder | Name of the last stage's interface, that contains the build() method | IBuildStage | - |
| Stage interface pattern for staged builder | Pattern of the stage interface names | I[FieldName]Stage | `[fieldName]`, `[FieldName]` |
| Remove prefix and suffix (set in Preferences->Java->Code style)\nfrom builder names | Whether to remove prefixes and suffixes set in code style from builder method names | true | - |
| Include visible fields from superclass | Whether to also include visible fields from super class. Field is visible if it's public, protected. It's also visible if it has a default scope and it's in the same package. Private fields are never visible, therefore not set. | true | - |

### @Generated annotatation

 - Generated annotation helps the plugin to determine what is safe to remove. If it is turned of the plugin makes a best guess which methods might have been generated by it, but might accidentally remove other methods as well.

## Release notes:

 - Pre 0.0.5
    Base builder generator plugin
 - 0.0.5
   Add option to remove prefix and postfix from builder method name
 - 0.0.6
   Add staged builder option
 - 0.0.7
   Option to include visible fields from superclass
 - 0.0.8
   Regression bug was observed in 0.0.7 under some Eclipse configurations. IllegalArgumentException occured while trying to parse java.lang.Object class.

## The generated code looks like the following:


		public class Clazz {
			private Integer firstField;
			private Long secondField;
	
			@Generated("SparkTools")
			private Clazz(Builder builder) {
				this.firstField = builder.firstField;
				this.secondField = builder.secondField;
			}
			/**
			 * Creates builder to build {@link Clazz}.
			 * @return created builder
			 */
			@Generated("SparkTools")
			public static Builder builder() {
				return new Builder();
			}
			/**
			 * Builder to build {@link Clazz}.
			 */
			@Generated("SparkTools")
			public static class Builder {
				private Integer firstField;
				private Long secondField;

				private Builder() {
				}

				/**
				* Builder method for firstField parameter.
				* @return builder
				*/
				@Nonnull
				public Builder withFirstField(@Nonnull Integer firstField) {
					this.firstField = firstField;
					return this;
				}

				/**
				* Builder method for secondField parameter.
				* @return builder
				*/
				@Nonnull
				public Builder withSecondField(@Nonnull Long secondField) {
					this.secondField = secondField;
					return this;
				}

				/**
				* Builder method of the builder.
				* @return built class
				*/
				@Nonnull
				public Clazz build() {
					return new Clazz(this);
				}
			}
		}


## Staged builder example

	public class Mail {
		private String from;
		private String to;
		private String subject;
		private String content;
		private String mimeType; // optional
	
		@Generated("SparkTools")
		private Mail(Builder builder) {
			this.from = builder.from;
			this.to = builder.to;
			this.subject = builder.subject;
			this.content = builder.content;
			this.mimeType = builder.mimeType;
		}
	
		/**
		 * Creates builder to build {@link Mail}.
		 * 
		 * @return created builder
		 */
		@Generated("SparkTools")
		public static IToStage builder() {
			return new Builder();
		}
	
		@Generated("SparkTools")
		public interface IToStage {
			public IFromStage withTo(String to);
		}
	
		@Generated("SparkTools")
		public interface IFromStage {
			public ISubjectStage withFrom(String from);
		}
	
		@Generated("SparkTools")
		public interface ISubjectStage {
			public IContentStage withSubject(String subject);
		}
	
		@Generated("SparkTools")
		public interface IContentStage {
			public IBuildStage withContent(String content);
		}
	
		@Generated("SparkTools")
		public interface IBuildStage {
			public IBuildStage withMimeType(String mimeType);
	
			public Mail build();
		}
	
		/**
		 * Builder to build {@link Mail}.
		 */
		@Generated("SparkTools")
		public static final class Builder implements IToStage, IFromStage, ISubjectStage, IContentStage, IBuildStage {
			private String to;
			private String from;
			private String subject;
			private String content;
			private String mimeType;
	
			private Builder() {
			}
	
			@Override
			public IFromStage withTo(String to) {
				this.to = to;
				return this;
			}
	
			@Override
			public ISubjectStage withFrom(String from) {
				this.from = from;
				return this;
			}
	
			@Override
			public IContentStage withSubject(String subject) {
				this.subject = subject;
				return this;
			}
	
			@Override
			public IBuildStage withContent(String content) {
				this.content = content;
				return this;
			}
	
			@Override
			public IBuildStage withMimeType(String mimeType) {
				this.mimeType = mimeType;
				return this;
			}
	
			@Override
			public Mail build() {
				return new Mail(this);
			}
		}
	
	}